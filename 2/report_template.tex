\documentclass[a4paper,11pt]{ltjsarticle}
\usepackage{geometry}
\geometry{top=25mm,bottom=25mm,left=25mm,right=25mm}
\usepackage{graphicx}
\usepackage{amsmath,amssymb,bm}
\usepackage{hyperref}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{physics}
\usepackage{microtype}

\hypersetup{
  pdftitle={数理工学実験レポート},
  pdfauthor={中塚一瑳},
  colorlinks=true,
  linkcolor=blue,
  citecolor=blue,
  urlcolor=blue
}

% -------------------------
% ユーザ定義マクロ
% -------------------------
\newcommand{\StudentID}{1029366161}
\newcommand{\AuthorName}{中塚一瑳}
\newcommand{\CourseName}{数理工学実験}
\newcommand{\ChapterTitle}{第3章（最小二乗法）}
\newcommand{\ExperimentDate}{\today}

% 図・表フォルダパス（必要なら変更）
\newcommand{\graphdir}{graphs}

% 数式用の簡易マクロ
\newcommand{\R}{\mathbb{R}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}

% listings 設定（Julia を例示）
\lstset{
  basicstyle=\ttfamily\footnotesize,
  breaklines=true,
  frame=single,
  numbers=left,
  numberstyle=\tiny,
  language=Julia,
  keywordstyle=\color{blue},
  commentstyle=\color{gray},
  stringstyle=\color{teal},
  showstringspaces=false
}

% 実験表題用コマンド
\newcommand{\ExperimentHeader}[2]{%
  \section{#1}%
  \textbf{目的：} #2\par\vspace{6pt}%
}

% キャプションのフォント調整
\captionsetup{font=small,labelfont=bf}

% -------------------------
% 本文
% -------------------------
\title{数理工学実験レポート\\[4pt]\large \ChapterTitle}
\author{学籍番号 1029366161 \quad 中塚一瑳}
\date{\ExperimentDate}

\begin{document}

\maketitle
\begin{abstract}
% 要旨をここに記述
\end{abstract}

\tableofcontents
\clearpage

\section*{表記・略記}
本レポートにおける表記と略記を示す。必要に応じて編集すること。
\begin{itemize}
  \item $\R$：実数全体
  \item $\|\cdot\|$：ユークリッドノルム（明示が必要な場合は添字を用いる）
  \item 各種パラメータや記号は本文中で定義する
\end{itemize}

% ===== 例：実験テンプレート =====
\ExperimentHeader{はじめに}
今回は
\ExperimentHeader{課題1：タイトル}{課題の目的を短く記述}
\subsection{原理・方法}
% 理論的な説明
\subsection{実装（サンプルコード）}
\begin{lstlisting}
# ここに実験で用いた主要コード（抜粋）を貼る
function example(A, b)
    # ...
end
\end{lstlisting}

\subsection{実験方法}
実験の再現手順、乱数シード、試行回数、計測指標（残差、相対誤差、時間など）を明記する。

\subsection{結果}
代表的な図表を貼る。図の参照は相対パス \verb|\graphdir| を利用。
\begin{figure}[H]
  \centering
  \includegraphics[width=0.7\linewidth]{\graphdir/exp1_result.png}
  \caption{課題1の代表結果（説明を一行）}
  \label{fig:exp1_result}
\end{figure}

\begin{table}[H]
\centering
\caption{課題1の結果サマリ（中央値等）}
\begin{tabular}{r|r r r}
\toprule
$N$ & 残差 & 相対誤差 & 時間[s] \\
\midrule
100 & $x\times10^{-y}$ & $x\times10^{-y}$ & 0.00 \\
\bottomrule
\end{tabular}
\end{table}

\subsection{考察}
% 結果の解釈、理論との比較、誤差の原因、改善案を簡潔に。

% ===== 複数課題の繰り返し =====
% 以下を必要数コピーして各課題を記述
\ExperimentHeader{課題2：LU分解}{目的を記載}
% ... 同様に節を展開

% ===== 総合比較 =====
\section{アルゴリズム比較}
表や図を用いて複数手法の比較を行う。計算量・精度・安定性・実行時間の観点でまとめる。

% ===== 結論 =====
\section{結論}
本章での結論と今後の課題を箇条書きでまとめる。

% ===== 付録 =====
\appendix
\section{使用コード一覧}
主要スクリプトと入手先を列挙する。
\begin{itemize}
  \item 実験コード（R）：\url{https://github.com/<your-repo>}
  \item データ生成スクリプト：scripts/generate_data.jl
\end{itemize}

\section{補足導出}
必要な導出や補助的な数学的議論を載せる。

% ===== 参考文献 =====
\section*{参考文献}
\begin{thebibliography}{9}
\bibitem{exp2025} 数理工学実験（2025年度配布資料）.
\end{thebibliography}

\end{document}
